<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<div th:with="condition=${session != null && session.user != null}" th:remove="tag">
    <p th:if="${condition}" th:text="'Welcome back, ' + ${session.user.getUsername()} + '!'"></p>
    <a href="index.html" th:unless="${condition}" >Login</a>
</div>

<div th:each="package: ${packages}">
    <p th:text="${package.getName()}" />
    <p th:text="${package.getMonthlyFee()}" />
    <p th:text="${package.getPackageId()}" />
    <p>SERVIZI: </p>
    <div th:each="service: ${package.getServices()}">
        <p th:text="${service.getServiceType()}" />
    </div>
</div>

<a href="logout" th:if="${session != null && session.user != null}">Logout</a>
</body>
</html>